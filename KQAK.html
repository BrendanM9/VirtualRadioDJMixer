<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>KQAK Program</title>
        <!--<script type="module" src="KQAK.js"></script>-->
    </head>
    <body>
        <style>
            table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
            </style>
        <table>
            <thead>KQAK Program</thead>
            <tr>
                <td>Time:</td>
                <td>Year:</td>
                <td>Song Title:</td>
                <td>Band/Artist:</td>
                <td>Song Length:</td>
            </tr>
            <tr>
                <td id="L-ID Time">XX:00</td>
                <td>N/A</td>
                <td>Top of the Hour</td>
                <td>KQAK</td>
                <td>.20</td>
            </tr>
            <tr>
                <td id = "Time 1">--:--</td>
                <td id = "No. 1">---</td>
                <td id = "Name 1">--</td>
                <td id = "Band 1">--</td>
                <td id = "Length 1">--:--</td>
            </tr>
            <tr>
                <td id = "Time 2">--:--</td>
                <td id = "No. 2">---</td>
                <td id = "Name 2">--</td>
                <td id = "Band 2">--</td>
                <td id = "Length 2">--:--</td>
            </tr>
            <tr>
                <td id="DCE">XX:08</td>
                <td>N/A</td>
                <td>Here's What You Missed On The Dave Clemens Experience</td>
                <td>KQAK</td>
                <td>.20</td>
            </tr>
            <tr>
                <td id="Ad1">XX:08</td>
                <td>N/A</td>
                <td>Ad Break</td>
                <td>KQAK</td>
                <td>2.00</td>
            </tr>
            <tr>
                <td id="Theme1">XX:10</td>
                <td>N/A</td>
                <td>KQAK Theme</td>
                <td>KQAK</td>
                <td>.10</td>
            </tr>
            <tr>
                <td id = "Time 3">--:--</td>
                <td id = "No. 3">---</td>
                <td id = "Name 3">--</td>
                <td id = "Band 3">--</td>
                <td id = "Length 3">--:--</td>
            </tr>
            <tr>
                <td id = "Time 4">--:--</td>
                <td id = "No. 4">---</td>
                <td id = "Name 4">--</td>
                <td id = "Band 4">--</td>
                <td id = "Length 4">--:--</td>
            </tr>
            <tr>
                <td id="Ad2">XX:20</td>
                <td>N/A</td>
                <td>Ad Break</td>
                <td>KQAK</td>
                <td>1.00</td>
            </tr>
            <tr>
                <td id="Weather1">XX:21</td>
                <td>N/A</td>
                <td>Central Oregon Weather</td>
                <td>KQAK</td>
                <td>.30</td>
            </tr>
            <tr>
                <td id = "Time 5">--:--</td>
                <td id = "No. 5">---</td>
                <td id = "Name 5">--</td>
                <td id = "Band 5">--</td>
                <td id = "Length 5">--:--</td>
            </tr>
            <tr>
                <td id = "Time 6">--:--</td>
                <td id = "No. 6">---</td>
                <td id = "Name 6">--</td>
                <td id = "Band 6">--</td>
                <td id = "Length 6">--:--</td>
            </tr>
            <tr>
                <td id="Promo1">XX:31</td>
                <td>N/A</td>
                <td>Contest Promo</td>
                <td>KQAK</td>
                <td>.30</td>
            </tr>
            <tr>
                <td id = "Time 7">--:--</td>
                <td id = "No. 7">---</td>
                <td id = "Name 7">--</td>
                <td id = "Band 7">--</td>
                <td id = "Length 7">--:--</td>
            </tr>
        </table>
    <script type="module">
        /*const data1 = require('./lib.json');
        console.log("data1 \n", data1);
        document.getElementById("Song1").innerHTML = "data1[1].song"

    import data from './lib.json' assert { type: 'json' };
console.log(data);
*/        
        /*fetch('./lib.json')
        .then(response => {
            return(response.json());
        })
        .then(data => console.log(data));*/
        import data from "./lib.json" assert { type: 'json' };
        console.log(data);
        var lib = data.library[0].title;
        console.log("Lib: "+lib)
        var date = new Date();
        var hour = date.getHours();
        var minute = date.getMinutes();
        console.log(hour);
        console.log(minute);
        var hour1 = hour + 1;
        /*
        var songno = .1;
        for(var i = 0; i < 190; i++){
            songno = Math.floor(Math.random() * 190);
            console.log(songno)
        }
        */
       const ARRAY_LENGTH = 7;
       const randomArray = [];
       const title1 = [];
        const artist1 = [];
        const length1 = [];
        const year1 = [];
        const minute1 = [];
        const second1 = [];
        var arrayNo = 0;
        var timeHour = 0;
        var timeMinute = 0;
        var timeSecond = 0;
        timeHour = hour1;
       for(let i = 0; i<ARRAY_LENGTH; i++){
        randomArray.push(Math.floor(Math.random()*80))
        arrayNo = parseFloat(randomArray[i]) - 1;
        title1.push(data.library[arrayNo].title);
        artist1.push(data.library[arrayNo].band);
        length1.push(data.library[arrayNo].length);
        year1.push(data.library[arrayNo].year);
        minute1.push(data.library[arrayNo].minutes);
        second1.push(data.library[arrayNo].seconds);
           console.log(arrayNo);
       }
       console.log(randomArray)
        document.getElementById("L-ID Time").innerHTML = timeHour+ ":00";
        timeSecond = timeSecond + 20;
       //document.getElementById("No. 1").innerHTML = randomArray[0];
        for(var r=0; r < 7; r++){
            var r1 = r+1;
            if(timeMinute > 9 && timeSecond > 9){
                document.getElementById("Time "+r1).innerHTML = timeHour+ ":"+timeMinute+"."+timeSecond;
            } else if(timeMinute > 9 && timeSecond < 10){
                document.getElementById("Time "+r1).innerHTML = timeHour+ ":"+timeMinute+".0"+timeSecond;
            } else if(timeMinute < 10 && timeSecond > 9){
                document.getElementById("Time "+r1).innerHTML = timeHour+ ":0"+timeMinute+"."+timeSecond;
            } else if(timeMinute < 10 && timeSecond < 10){
                document.getElementById("Time "+r1).innerHTML = timeHour+ ":0"+timeMinute+".0"+timeSecond;
            }
            document.getElementById("Time "+r1).innerHTML = timeHour+ ":"+timeMinute+"." + timeSecond;
            document.getElementById("No. "+ r1).innerHTML = year1[r];
            document.getElementById("Name "+ r1).innerHTML = title1[r];
            document.getElementById("Band "+r1).innerHTML = artist1[r];
            document.getElementById("Length "+r1).innerHTML = minute1[r] + ":"+ second1[r];
            timeMinute = timeMinute + minute1[r];
            timeSecond = timeSecond + (second1[r]-6);
            while(timeSecond > 59){
                timeMinute = timeMinute + 1;
                timeSecond = timeSecond - 60;
            }
        }
           //document.getElementById("No. 2").innerHTML = randomArray[1];
        
        /*
        document.getElementById("No. 2").innerHTML = year1[1];
       document.getElementById("Name 2").innerHTML = title1[1];
        document.getElementById("Band 2").innerHTML = artist1[1];
        document.getElementById("Length 2").innerHTML = minute1[1] + ":"+ second1[1];
        document.getElementById("DCE").innerHTML = hour1+":08";
        document.getElementById("Ad1").innerHTML = hour1+":08";
        document.getElementById("Theme1").innerHTML = hour1+":10";
       //document.getElementById("No. 3").innerHTML = randomArray[2];
        document.getElementById("Time 3").innerHTML = hour1+ ":11";
        document.getElementById("No. 3").innerHTML = year1[2];
       document.getElementById("Name 3").innerHTML = title1[2];
        document.getElementById("Band 3").innerHTML = artist1[2];
        document.getElementById("Length 3").innerHTML = minute1[2] + ":"+ second1[2];
       //document.getElementById("No. 4").innerHTML = randomArray[3];
        document.getElementById("Time 4").innerHTML = hour1+ ":15";
        document.getElementById("No. 4").innerHTML = year1[3];
       document.getElementById("Name 4").innerHTML = title1[3];
        document.getElementById("Band 4").innerHTML = artist1[3];
        document.getElementById("Length 4").innerHTML = minute1[3] + ":"+ second1[3];
        document.getElementById("Ad2").innerHTML = hour1+":20";
        document.getElementById("Weather1").innerHTML = hour1+":21";
       //document.getElementById("No. 5").innerHTML = randomArray[4];
        document.getElementById("Time 5").innerHTML = hour1+ ":22";
        document.getElementById("No. 5").innerHTML = year1[4];
       document.getElementById("Name 5").innerHTML = title1[4];
        document.getElementById("Band 5").innerHTML = artist1[4];
        document.getElementById("Length 5").innerHTML = minute1[4] + ":"+ second1[4];
        document.getElementById("Time 6").innerHTML = hour1+ ":26";
        document.getElementById("No. 6").innerHTML = year1[5];
       document.getElementById("Name 6").innerHTML = title1[5];
        document.getElementById("Band 6").innerHTML = artist1[5];
        document.getElementById("Length 6").innerHTML = minute1[5] + ":"+ second1[5];
        document.getElementById("Promo1").innerHTML = hour1+":30";
        document.getElementById("Time 7").innerHTML = hour1+ ":31";
        document.getElementById("No. 7").innerHTML = year1[6];
       document.getElementById("Name 7").innerHTML = title1[6];
        document.getElementById("Band 7").innerHTML = artist1[6];
        document.getElementById("Length 7").innerHTML = minute1[6] + ":"+ second1[6];
        */
    </script>
    </body>
</html>
