<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>KQAK Program</title>
        <!--<script type="module" src="KQAK.js"></script>-->
    </head>
    <body>
        <style>
            table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
#TopOfHourText{
    font-size: 50px;
    color:green;
}
            </style>
        <table id="tracklist">
            <thead>KQAK Program</thead>
            <tr>
                <td>Time:</td>
                <td>Year:</td>
                <td>Song Title:</td>
                <td>Band/Artist:</td>
                <td>Song Length:</td>
            </tr>
            <tr>
                <td id="TopOfHour">XX:00</td>
                <td>N/A</td>
                <td id="TopOfHourText">Top of the Hour</td>
                <td>KQAK</td>
                <td>:20</td>
            </tr>
            <tr>
                <td id = "Time 1">--:--</td>
                <td id = "No. 1">---</td>
                <td id = "Name 1">--</td>
                <td id = "Band 1">--</td>
                <td id = "Length 1">--:--</td>
            </tr>
            <tr>
                <td id = "Time 2">--:--</td>
                <td id = "No. 2">---</td>
                <td id = "Name 2">--</td>
                <td id = "Band 2">--</td>
                <td id = "Length 2">--:--</td>
            </tr>
            <tr>
                <td id = "Time 3">--:--</td>
                <td id = "No. 3">---</td>
                <td id = "Name 3">--</td>
                <td id = "Band 3">--</td>
                <td id = "Length 3">--:--</td>
            </tr>
            <tr>
                <td id = "Time 4">--:--</td>
                <td id = "No. 4">---</td>
                <td id = "Name 4">--</td>
                <td id = "Band 4">--</td>
                <td id = "Length 4">--:--</td>
            </tr>
            <tr>
                <td id = "Time 5">--:--</td>
                <td id = "No. 5">---</td>
                <td id = "Name 5">--</td>
                <td id = "Band 5">--</td>
                <td id = "Length 5">--:--</td>
            </tr>
            <tr>
                <td id = "Time 6">--:--</td>
                <td id = "No. 6">---</td>
                <td id = "Name 6">--</td>
                <td id = "Band 6">--</td>
                <td id = "Length 6">--:--</td>
            </tr>
            <tr>
                <td id = "Time 7">--:--</td>
                <td id = "No. 7">---</td>
                <td id = "Name 7">--</td>
                <td id = "Band 7">--</td>
                <td id = "Length 7">--:--</td>
            </tr>
            <tr>
                <td id = "Time 8">--:--</td>
                <td id = "No. 8">---</td>
                <td id = "Name 8">--</td>
                <td id = "Band 8">--</td>
                <td id = "Length 8">--:--</td>
            </tr>
            <tr>
                <td id = "Time 9">--:--</td>
                <td id = "No. 9">---</td>
                <td id = "Name 9">--</td>
                <td id = "Band 9">--</td>
                <td id = "Length 9">--:--</td>
            </tr>
            <tr>
                <td id = "Time 10">--:--</td>
                <td id = "No. 10">---</td>
                <td id = "Name 10">--</td>
                <td id = "Band 10">--</td>
                <td id = "Length 10">--:--</td>
            </tr>
            <tr>
                <td id = "Time 11">--:--</td>
                <td id = "No. 11">---</td>
                <td id = "Name 11">--</td>
                <td id = "Band 11">--</td>
                <td id = "Length 11">--:--</td>
            </tr>
            <tr>
                <td id = "Time 12">--:--</td>
                <td id = "No. 12">---</td>
                <td id = "Name 12">--</td>
                <td id = "Band 12">--</td>
                <td id = "Length 12">--:--</td>
            </tr>
            <tr>
                <td id = "Time 13">--:--</td>
                <td id = "No. 13">---</td>
                <td id = "Name 13">--</td>
                <td id = "Band 13">--</td>
                <td id = "Length 13">--:--</td>
            </tr>
            <tr>
                <td id = "Time 14">--:--</td>
                <td id = "No. 14">---</td>
                <td id = "Name 14">--</td>
                <td id = "Band 14">--</td>
                <td id = "Length 14">--:--</td>
            </tr>
            <tr>
                <td id = "Time 15">--:--</td>
                <td id = "No. 15">---</td>
                <td id = "Name 15">--</td>
                <td id = "Band 15">--</td>
                <td id = "Length 15">--:--</td>
            </tr>
            <tr>
                <td id = "Time 16">--:--</td>
                <td id = "No. 16">---</td>
                <td id = "Name 16">--</td>
                <td id = "Band 16">--</td>
                <td id = "Length 16">--:--</td>
            </tr>
            <tr>
                <td id = "Time 17">--:--</td>
                <td id = "No. 17">---</td>
                <td id = "Name 17">--</td>
                <td id = "Band 17">--</td>
                <td id = "Length 17">--:--</td>
            </tr>
            <tr>
                <td id = "Time 18">--:--</td>
                <td id = "No. 18">---</td>
                <td id = "Name 18">--</td>
                <td id = "Band 18">--</td>
                <td id = "Length 18">--:--</td>
            </tr>
            <tr>
                <td id = "Time 19">--:--</td>
                <td id = "No. 19">---</td>
                <td id = "Name 19">--</td>
                <td id = "Band 19">--</td>
                <td id = "Length 19">--:--</td>
            </tr>
            <tr>
                <td id = "Time 20">--:--</td>
                <td id = "No. 20">---</td>
                <td id = "Name 20">--</td>
                <td id = "Band 20">--</td>
                <td id = "Length 20">--:--</td>
            </tr><tr>
                <td id = "Time 21">--:--</td>
                <td id = "No. 21">---</td>
                <td id = "Name 21">--</td>
                <td id = "Band 21">--</td>
                <td id = "Length 21">--:--</td>
            </tr>
            <tr>
                <td id = "Time 22">--:--</td>
                <td id = "No. 22">---</td>
                <td id = "Name 22">--</td>
                <td id = "Band 22">--</td>
                <td id = "Length 22">--:--</td>
            </tr>
            <tr>
                <td id = "Time 23">--:--</td>
                <td id = "No. 23">---</td>
                <td id = "Name 23">--</td>
                <td id = "Band 23">--</td>
                <td id = "Length 23">--:--</td>
            </tr>
            <tr>
                <td id = "Time 24">--:--</td>
                <td id = "No. 24">---</td>
                <td id = "Name 24">--</td>
                <td id = "Band 24">--</td>
                <td id = "Length 24">--:--</td>
            </tr>
            <tr>
                <td id = "Time 25">--:--</td>
                <td id = "No. 25">---</td>
                <td id = "Name 25">--</td>
                <td id = "Band 25">--</td>
                <td id = "Length 25">--:--</td>
            </tr>
            <tr>
                <td id = "Time 26">--:--</td>
                <td id = "No. 26">---</td>
                <td id = "Name 26">--</td>
                <td id = "Band 26">--</td>
                <td id = "Length 26">--:--</td>
            </tr>
            <tr>
                <td id = "Time 27">--:--</td>
                <td id = "No. 27">---</td>
                <td id = "Name 27">--</td>
                <td id = "Band 27">--</td>
                <td id = "Length 27">--:--</td>
            </tr>
            <tr>
                <td id = "Time 28">--:--</td>
                <td id = "No. 28">---</td>
                <td id = "Name 28">--</td>
                <td id = "Band 28">--</td>
                <td id = "Length 28">--:--</td>
            </tr>
            <tr>
                <td id = "Time 29">--:--</td>
                <td id = "No. 29">---</td>
                <td id = "Name 29">--</td>
                <td id = "Band 29">--</td>
                <td id = "Length 29">--:--</td>
            </tr>
            <tr>
                <td id = "Time 30">--:--</td>
                <td id = "No. 30">---</td>
                <td id = "Name 30">--</td>
                <td id = "Band 30">--</td>
                <td id = "Length 30">--:--</td>
            </tr>
            <tr>
                <td id = "Time 31">--:--</td>
                <td id = "No. 31">---</td>
                <td id = "Name 31">--</td>
                <td id = "Band 31">--</td>
                <td id = "Length 31">--:--</td>
            </tr>
            <tr>
                <td id = "Time 32">--:--</td>
                <td id = "No. 32">---</td>
                <td id = "Name 32">--</td>
                <td id = "Band 32">--</td>
                <td id = "Length 32">--:--</td>
            </tr>
            <tr>
                <td id = "Time 33">--:--</td>
                <td id = "No. 33">---</td>
                <td id = "Name 33">--</td>
                <td id = "Band 33">--</td>
                <td id = "Length 33">--:--</td>
            </tr>
            <tr>
                <td id = "Time 34">--:--</td>
                <td id = "No. 34">---</td>
                <td id = "Name 34">--</td>
                <td id = "Band 34">--</td>
                <td id = "Length 34">--:--</td>
            </tr>
            <tr>
                <td id = "Time 35">--:--</td>
                <td id = "No. 35">---</td>
                <td id = "Name 35">--</td>
                <td id = "Band 35">--</td>
                <td id = "Length 35">--:--</td>
            </tr>
            <tr>
                <td id = "Time 36">--:--</td>
                <td id = "No. 36">---</td>
                <td id = "Name 36">--</td>
                <td id = "Band 36">--</td>
                <td id = "Length 36">--:--</td>
            </tr>
            <tr>
                <td id = "Time 37">--:--</td>
                <td id = "No. 37">---</td>
                <td id = "Name 37">--</td>
                <td id = "Band 37">--</td>
                <td id = "Length 37">--:--</td>
            </tr>
            <tr>
                <td id = "Time 38">--:--</td>
                <td id = "No. 38">---</td>
                <td id = "Name 38">--</td>
                <td id = "Band 38">--</td>
                <td id = "Length 38">--:--</td>
            </tr>
            <tr>
                <td id = "Time 39">--:--</td>
                <td id = "No. 39">---</td>
                <td id = "Name 39">--</td>
                <td id = "Band 39">--</td>
                <td id = "Length 39">--:--</td>
            </tr>
            <tr>
                <td id = "Time 40">--:--</td>
                <td id = "No. 40">---</td>
                <td id = "Name 40">--</td>
                <td id = "Band 40">--</td>
                <td id = "Length 40">--:--</td>
            </tr>
        </table>
        <button id="print1">Print Tracklist</button>
    <script type="module">
        /*const data1 = require('./lib.json');
        console.log("data1 \n", data1);
        document.getElementById("Song1").innerHTML = "data1[1].song"

    import data from './lib.json' assert { type: 'json' };
console.log(data);
*/        
        /*fetch('./lib.json')
        .then(response => {
            return(response.json());
        })
        .then(data => console.log(data));*/
        import data from "./lib.json" assert { type: 'json' };
        console.log(data);
        var lib = data.library[0].title;
        console.log("Lib: "+lib)
        var date = new Date();
        var hour = date.getHours();
        var minute = date.getMinutes();
        console.log(hour);
        console.log(minute);
        var hour1 = hour + 1;
        /*
        var songno = .1;
        for(var i = 0; i < 190; i++){
            songno = Math.floor(Math.random() * 190);
            console.log(songno)
        }
        */
       const ARRAY_LENGTH = 40;
       const randomArray = [];
       const title1 = [];
        const artist1 = [];
        const length1 = [];
        const year1 = [];
        const minute1 = [];
        const second1 = [];
        var arrayNo = 0;
        var timeHour = 0;
        var timeMinute = 0;
        var timeSecond = 0;
        var commercials = 0;
        var KQAK1 = "no";
        var list = document.getElementById("tracklist");
        timeHour = hour1;
       for(let i = 0; i<ARRAY_LENGTH; i++){
        randomArray.push(Math.floor(Math.random()*129))
        arrayNo = parseFloat(randomArray[i]) - 1;
        title1.push(data.library[arrayNo].title);
        artist1.push(data.library[arrayNo].band);
        length1.push(data.library[arrayNo].length);
        year1.push(data.library[arrayNo].year);
        minute1.push(data.library[arrayNo].minutes);
        second1.push(data.library[arrayNo].seconds);
           console.log(arrayNo);
       }
       console.log(randomArray)
        document.getElementById("TopOfHour").innerHTML = timeHour+ ":00";
        timeSecond = timeSecond + 20;
       //document.getElementById("No. 1").innerHTML = randomArray[0];
        for(var r=0; r < 40; r++){
            var r1 = r+1;
            
            document.getElementById("Time "+r1).innerHTML = timeHour+":"+timeMinute+"."+timeSecond;
            document.getElementById("No. "+ r1).innerHTML = year1[r];
            document.getElementById("Name "+ r1).innerHTML = title1[r];
            document.getElementById("Band "+r1).innerHTML = artist1[r];
            //document.getElementById("Length "+r1).innerHTML = minute1[r] + ":"+ second1[r];
            if(minute1[r] > 9 && second1[r] > 9){
                document.getElementById("Length "+r1).innerHTML = minute1[r]+":"+second1[r];
            } else if(minute1[r] > 9 && second1[r] < 10){
                document.getElementById("Length "+r1).innerHTML = minute1[r]+":0"+second1[r];
            } else if(minute1[r] < 10 && second1[r] > 9){
                document.getElementById("Length "+r1).innerHTML = minute1[r]+":"+second1[r];
            } else if(minute1[r] < 10 && second1[r] < 10){
                document.getElementById("Length "+r1).innerHTML = minute1[r]+":0"+second1[r];
            }
            if(timeMinute > 9 && timeSecond > 9){
                document.getElementById("Time "+r1).innerHTML = timeHour+ ":"+timeMinute+"."+timeSecond;
            } else if(timeMinute > 9 && timeSecond < 10){
                document.getElementById("Time "+r1).innerHTML = timeHour+ ":"+timeMinute+".0"+timeSecond;
            } else if(timeMinute < 10 && timeSecond > 9){
                document.getElementById("Time "+r1).innerHTML = timeHour+ ":0"+timeMinute+"."+timeSecond;
            } else if(timeMinute < 10 && timeSecond < 10){
                document.getElementById("Time "+r1).innerHTML = timeHour+ ":0"+timeMinute+".0"+timeSecond;
            }
            timeMinute = timeMinute + minute1[r];
            timeSecond = timeSecond + (second1[r]-6);
            while(timeSecond > 59){
                timeMinute = timeMinute + 1;
                timeSecond = timeSecond - 60;
            }
            var r2 = r1 + 1;
            var r3 = r2 + 1;
            var r4 = r3 + 1;
            if(commercials === 0 && timeMinute > 7){
                document.getElementById("Time "+r2).innerHTML = timeHour+ ":"+timeMinute+"." + timeSecond;
                document.getElementById("No. "+ r2).innerHTML = "N/A";
                document.getElementById("Name "+ r2).innerHTML = "Here's What You Missed On The Dave Clemens Experience";
                document.getElementById("Band "+r2).innerHTML = "KQAK";
                document.getElementById("Length "+r2).innerHTML = "0:30";
                timeSecond = timeSecond + 30;
                document.getElementById("Time "+r3).innerHTML = timeHour+ ":"+timeMinute+"." + timeSecond;
                document.getElementById("No. "+ r3).innerHTML = "N/A";
                document.getElementById("Name "+ r3).innerHTML = "Ad Break";
                document.getElementById("Band "+r3).innerHTML = "KQAK";
                document.getElementById("Length "+r3).innerHTML = "2:00";
                timeMinute = timeMinute + 2;
                document.getElementById("Time "+r4).innerHTML = timeHour+ ":"+timeMinute+"." + timeSecond;
                document.getElementById("No. "+ r4).innerHTML = "N/A";
                document.getElementById("Name "+ r4).innerHTML = "KQAK Theme";
                document.getElementById("Band "+r4).innerHTML = "KQAK";
                document.getElementById("Length "+r4).innerHTML = "0:10";
                timeSecond = timeSecond + 10;
                commercials = 1;
                r = r3;
            }
            if(commercials === 1 && timeMinute > 20){
                document.getElementById("Time "+r2).innerHTML = timeHour+ ":"+timeMinute+"." + timeSecond;
                document.getElementById("No. "+ r2).innerHTML = "N/A";
                document.getElementById("Name "+ r2).innerHTML = "Ad Break";
                document.getElementById("Band "+r2).innerHTML = "KQAK";
                document.getElementById("Length "+r2).innerHTML = "1:00";
                timeMinute = timeMinute + 1;
                document.getElementById("Time "+r3).innerHTML = timeHour+ ":"+timeMinute+"." + timeSecond;
                document.getElementById("No. "+ r3).innerHTML = "N/A";
                document.getElementById("Name "+ r3).innerHTML = "Central Oregon Weather";
                document.getElementById("Band "+r3).innerHTML = "KQAK";
                document.getElementById("Length "+r3).innerHTML = "0:30";
                timeSecond = timeSecond + 30;
                commercials = 2;
                r = r2;
            }
            if(timeMinute > 57){
                document.getElementById("Time "+r1).innerHTML = timeHour+ ":"+timeMinute+"." + timeSecond;
                document.getElementById("No. "+ r1).innerHTML = "N/A";
                document.getElementById("Name "+ r1).innerHTML = "Top Of The Hour";
                document.getElementById("Name "+ r1).style = "color: Green";
                document.getElementById("Band "+r1).innerHTML = "KQAK";
                document.getElementById("Length "+r1).innerHTML = "0:20";
                timeSecond = timeSecond + 20;
                KQAK1 = "no";
                commercials= 0;
            }
            if(timeMinute >= 60){
                timeMinute = timeMinute - 60;
                timeHour = timeHour + 1;
            }
            if(timeMinute > 30 && KQAK1 === "no"){
                document.getElementById("Time "+r2).innerHTML = timeHour+ ":"+timeMinute+"." + timeSecond;
                document.getElementById("No. "+ r2).innerHTML = "N/A";
                document.getElementById("Name "+ r2).innerHTML = "Contest Promo";
                document.getElementById("Band "+r2).innerHTML = "KQAK";
                document.getElementById("Length "+r2).innerHTML = "0:30";
                timeSecond = timeSecond + 30;
                KQAK1 = "yes";
            }
        }
           //document.getElementById("No. 2").innerHTML = randomArray[1];
        
        /*
        document.getElementById("No. 2").innerHTML = year1[1];
       document.getElementById("Name 2").innerHTML = title1[1];
        document.getElementById("Band 2").innerHTML = artist1[1];
        document.getElementById("Length 2").innerHTML = minute1[1] + ":"+ second1[1];
        document.getElementById("DCE").innerHTML = hour1+":08";
        document.getElementById("Ad1").innerHTML = hour1+":08";
        document.getElementById("Theme1").innerHTML = hour1+":10";
       //document.getElementById("No. 3").innerHTML = randomArray[2];
        document.getElementById("Time 3").innerHTML = hour1+ ":11";
        document.getElementById("No. 3").innerHTML = year1[2];
       document.getElementById("Name 3").innerHTML = title1[2];
        document.getElementById("Band 3").innerHTML = artist1[2];
        document.getElementById("Length 3").innerHTML = minute1[2] + ":"+ second1[2];
       //document.getElementById("No. 4").innerHTML = randomArray[3];
        document.getElementById("Time 4").innerHTML = hour1+ ":15";
        document.getElementById("No. 4").innerHTML = year1[3];
       document.getElementById("Name 4").innerHTML = title1[3];
        document.getElementById("Band 4").innerHTML = artist1[3];
        document.getElementById("Length 4").innerHTML = minute1[3] + ":"+ second1[3];
        document.getElementById("Ad2").innerHTML = hour1+":20";
        document.getElementById("Weather1").innerHTML = hour1+":21";
       //document.getElementById("No. 5").innerHTML = randomArray[4];
        document.getElementById("Time 5").innerHTML = hour1+ ":22";
        document.getElementById("No. 5").innerHTML = year1[4];
       document.getElementById("Name 5").innerHTML = title1[4];
        document.getElementById("Band 5").innerHTML = artist1[4];
        document.getElementById("Length 5").innerHTML = minute1[4] + ":"+ second1[4];
        document.getElementById("Time 6").innerHTML = hour1+ ":26";
        document.getElementById("No. 6").innerHTML = year1[5];
       document.getElementById("Name 6").innerHTML = title1[5];
        document.getElementById("Band 6").innerHTML = artist1[5];
        document.getElementById("Length 6").innerHTML = minute1[5] + ":"+ second1[5];
        document.getElementById("Promo1").innerHTML = hour1+":30";
        document.getElementById("Time 7").innerHTML = hour1+ ":31";
        document.getElementById("No. 7").innerHTML = year1[6];
       document.getElementById("Name 7").innerHTML = title1[6];
        document.getElementById("Band 7").innerHTML = artist1[6];
        document.getElementById("Length 7").innerHTML = minute1[6] + ":"+ second1[6];
        */
        document.getElementById("print1").addEventListener("click", function(){
            console.log("print");
            print(list);
        });
    </script>
    </body>
</html>
